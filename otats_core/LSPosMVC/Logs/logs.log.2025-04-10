2025/04/10 13:05:47,614 ERROR 9 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v4
2025/04/10 13:05:47,621 ERROR 9 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_App_GetDSChiTietMatHangDonHang_v4'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:16a58f5b-aa37-4523-90d4-101043bac8e8
Error Number:2812,State:62,Class:16
2025/04/10 13:05:48,320 ERROR 9 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang_DichVuV2(Int32 idmathang, String bookingcode, String sitecode, String grouplink) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1676
2025/04/10 13:06:42,614 ERROR 5 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v4
2025/04/10 13:06:42,614 ERROR 5 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_App_GetDSChiTietMatHangDonHang_v4'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:16a58f5b-aa37-4523-90d4-101043bac8e8
Error Number:2812,State:62,Class:16
2025/04/10 13:06:42,643 ERROR 5 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang_DichVuV2(Int32 idmathang, String bookingcode, String sitecode, String grouplink) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1676
2025/04/10 15:05:25,413 ERROR 98 LSPos_Data.Utilities.Log - System.FormatException: Input string was not in a correct format.
   at System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   at System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   at LSPos_Data.Data.UserinforData.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\UserinforData.cs:line 79
   at LSPosMVC.Controllers.UserinfoController.Login(LoginRequest login) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\UserinfoController.cs:line 38
2025/04/10 15:06:10,580 ERROR 24 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:06:10,978 ERROR 39 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:06:10,978 ERROR 39 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:12f6ac1e-83db-430d-9733-1fdc8ef791a3
Error Number:7202,State:2,Class:11
2025/04/10 15:06:10,980 ERROR 39 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:06:54,160 ERROR 24 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:06:54,341 ERROR 80 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:06:54,341 ERROR 80 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:c8937582-f8d7-4d40-b3ec-91d6dba65fa5
Error Number:7202,State:2,Class:11
2025/04/10 15:06:54,341 ERROR 80 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:06:54,384 ERROR 80 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:06:54,384 ERROR 80 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:c8937582-f8d7-4d40-b3ec-91d6dba65fa5
Error Number:7202,State:2,Class:11
2025/04/10 15:06:54,385 ERROR 80 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:14:14,744 ERROR 47 LSPos_Data.Utilities.Log - System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.OrderedEnumerable`2..ctor(IEnumerable`1 source, Func`2 keySelector, IComparer`1 comparer, Boolean descending)
   at System.Linq.Enumerable.OrderBy[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at LSPosMVC.Controllers.XaPhuongController.get(Int32 IdQuan) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\XaPhuongController.cs:line 38
2025/04/10 15:14:14,767 ERROR 94 LSPos_Data.Utilities.Log - System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.OrderedEnumerable`2..ctor(IEnumerable`1 source, Func`2 keySelector, IComparer`1 comparer, Boolean descending)
   at System.Linq.Enumerable.OrderBy[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at LSPosMVC.Controllers.QuanController.get(TieuChiLoc tieuchi) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\QuanController.cs:line 40
2025/04/10 15:14:35,748 ERROR 24 SqlDataHelper - Command:sp_App_TaoDonHang,Command Parameter:@idct:1|@idnhanvien:1147|@hdv:0|@idcuahang:3|@tongtien:250000|@ghichu:|@mathamchieu:250410-33|@thoigiantao:4/10/2025 3:14:35 PM|@idcheckin:0|@idctkm:0|@tongtienchietkhau:0|@chietkhautien:0|@chietkhauphantram:0|@chietkhautien_khac:0|@chietkhauphantram_khac:0|@chietkhautien_theoctkm:0|@chietkhauphantram_theoctkm:0|@phuthuphantram:0|@phuthutien:0|@lydophuthu:|@idnhanvientao:1|@kinhdo:0|@vido:0|@diachitao:|@diachixuathoadon:|@accountcode:|@bookingcode:|@xuathoadon:False|@hinhthucban:0|@invetaiquay:False|
2025/04/10 15:14:35,748 ERROR 24 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): @hinhthucban is not a parameter for procedure sp_App_TaoDonHang.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteScalar()
   at SqlDataHelper.ExecuteScalar(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 278
ClientConnectionId:3f47df24-c03b-4af0-8b16-88f15dfe23e5
Error Number:8145,State:1,Class:16
2025/04/10 15:14:35,749 ERROR 24 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPos_Data.Data.DonHangData.TaoDonHang(DonHangModels dh) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 392
2025/04/10 15:15:53,773 ERROR 28 SqlDataHelper - Command:sp_App_TaoDonHang,Command Parameter:@idct:1|@idnhanvien:1147|@hdv:0|@idcuahang:3|@tongtien:100000|@ghichu:|@mathamchieu:250410-33|@thoigiantao:4/10/2025 3:15:53 PM|@idcheckin:0|@idctkm:0|@tongtienchietkhau:0|@chietkhautien:0|@chietkhauphantram:0|@chietkhautien_khac:0|@chietkhauphantram_khac:0|@chietkhautien_theoctkm:0|@chietkhauphantram_theoctkm:0|@phuthuphantram:0|@phuthutien:0|@lydophuthu:|@idnhanvientao:1|@kinhdo:0|@vido:0|@diachitao:|@diachixuathoadon:|@accountcode:|@bookingcode:|@xuathoadon:False|@hinhthucban:0|@invetaiquay:False|
2025/04/10 15:15:53,773 ERROR 28 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): @hinhthucban is not a parameter for procedure sp_App_TaoDonHang.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteScalar()
   at SqlDataHelper.ExecuteScalar(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 278
ClientConnectionId:22422a1e-bb64-4755-9479-9f5b62f15ee2
Error Number:8145,State:1,Class:16
2025/04/10 15:16:23,983 ERROR 28 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPos_Data.Data.DonHangData.TaoDonHang(DonHangModels dh) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 392
2025/04/10 15:18:56,954 ERROR 76 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:18:57,074 ERROR 72 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:18:57,074 ERROR 72 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:3f47df24-c03b-4af0-8b16-88f15dfe23e5
Error Number:7202,State:2,Class:11
2025/04/10 15:18:57,075 ERROR 72 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:19:00,195 INFO 77 LSPos_Data.Utilities.Log - Start
2025/04/10 15:19:00,363 ERROR 98 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:19:00,363 ERROR 98 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:99782637-4fbe-48ab-b292-073f69888d2c
Error Number:7202,State:2,Class:11
2025/04/10 15:19:00,363 ERROR 98 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:19:08,357 ERROR 83 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:19:08,357 ERROR 83 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:99782637-4fbe-48ab-b292-073f69888d2c
Error Number:7202,State:2,Class:11
2025/04/10 15:19:08,358 ERROR 83 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:19:19,032 ERROR 16 SqlDataHelper - sp_App_GetDSChiTietMatHangDonHang_v2
2025/04/10 15:19:19,032 ERROR 16 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server '42.96.59.65' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:99782637-4fbe-48ab-b292-073f69888d2c
Error Number:7202,State:2,Class:11
2025/04/10 15:19:19,032 ERROR 16 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.GetDSChiTietMatHangDonHang(Int32 idchitietdh, Int32 iddonhang, Int32 idmathang) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 1601
2025/04/10 15:22:05,139 ERROR 77 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:22:19,373 ERROR 73 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:22:22,182 INFO 76 LSPos_Data.Utilities.Log - Start
2025/04/10 15:31:36,411 ERROR 74 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:37:48,440 ERROR 98 LSPos_Data.Utilities.Log - Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at LSPos_Data.Data.TokenValidationHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\TokenValidationHandler.cs:line 60
2025/04/10 15:38:00,640 INFO 22 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":null,"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:38:00,737 ERROR 22 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 359
2025/04/10 15:38:22,755 INFO 96 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":null,"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:38:41,608 ERROR 96 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 359
2025/04/10 15:38:44,625 INFO 28 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":null,"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:39:10,345 ERROR 28 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 359
2025/04/10 15:39:16,258 INFO 28 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":null,"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:39:36,918 ERROR 28 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 359
2025/04/10 15:40:26,784 INFO 28 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":[{"idchitietdonhang":0,"iddonhang":0,"idhanghoa":1323,"soluong":2.0,"soLuongTraLai":0.0,"tongTien":0.0,"ghichu":"","hinhthucban":0,"tenhinhthucban":null,"giakhac":0.0,"giaban":0.0,"mota":null,"linkgioithieu":null,"tenKho":null,"tenhienthi":null,"giabuon":0.0,"giale":0.0,"chietkhauphantram_banle":0.0,"chietkhautien_banle":0.0,"chietkhauphantram_banbuon":0.0,"chietkhautien_banbuon":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvien":0,"idLichSuGiaoHang":0,"idKho":0,"idquanly":0,"ngaysuadoi":"","IsDichVu":0,"chietkhauphantram":0.0,"chietkhautien":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":"","tenhang":"","mahang":"","tendanhmuc":"","iddanhmuc":0,"tendonvi":"","ghichugia":"","dagiao":0.0,"tonthucte":0.0,"tonorder":0.0,"tennhacungcap":null,"tennhanhieu":null,"loaihanghoa":0,"lstDichVu":null,"Ngay":"2025-04-22T00:00:00","dschitietmathang":null,"dshangtang":null,"idhaohut":0,"HangKhuyenMai":0,"idkhoxuat":0,"tenkhoxuat":null,"ID_ChiTietDonHang_DatKhuyenMai":0,"isdichvu":0,"sitecode":null,"servicerateid":null}],"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:40:33,321 ERROR 28 SqlDataHelper - sp_Nhom_GetById
2025/04/10 15:40:33,322 ERROR 28 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_Nhom_GetById'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:46c58b25-2e5c-4ab7-a5c7-bd6be941b224
Error Number:2812,State:62,Class:16
2025/04/10 15:40:33,360 ERROR 28 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.NhomData.getNhomByID(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\NhomData.cs:line 355
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 405
2025/04/10 15:40:38,162 INFO 91 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":[{"idchitietdonhang":0,"iddonhang":0,"idhanghoa":1323,"soluong":2.0,"soLuongTraLai":0.0,"tongTien":0.0,"ghichu":"","hinhthucban":0,"tenhinhthucban":null,"giakhac":0.0,"giaban":0.0,"mota":null,"linkgioithieu":null,"tenKho":null,"tenhienthi":null,"giabuon":0.0,"giale":0.0,"chietkhauphantram_banle":0.0,"chietkhautien_banle":0.0,"chietkhauphantram_banbuon":0.0,"chietkhautien_banbuon":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvien":0,"idLichSuGiaoHang":0,"idKho":0,"idquanly":0,"ngaysuadoi":"","IsDichVu":0,"chietkhauphantram":0.0,"chietkhautien":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":"","tenhang":"","mahang":"","tendanhmuc":"","iddanhmuc":0,"tendonvi":"","ghichugia":"","dagiao":0.0,"tonthucte":0.0,"tonorder":0.0,"tennhacungcap":null,"tennhanhieu":null,"loaihanghoa":0,"lstDichVu":null,"Ngay":"2025-04-22T00:00:00","dschitietmathang":null,"dshangtang":null,"idhaohut":0,"HangKhuyenMai":0,"idkhoxuat":0,"tenkhoxuat":null,"ID_ChiTietDonHang_DatKhuyenMai":0,"isdichvu":0,"sitecode":null,"servicerateid":null}],"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:41:35,852 ERROR 91 SqlDataHelper - sp_Nhom_GetById
2025/04/10 15:41:35,852 ERROR 91 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_Nhom_GetById'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:46c58b25-2e5c-4ab7-a5c7-bd6be941b224
Error Number:2812,State:62,Class:16
2025/04/10 15:41:41,038 ERROR 91 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.NhomData.getNhomByID(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\NhomData.cs:line 355
   at LSPosMVC.Controllers.OtaController.addAndPaymentLsTour(List`1 chitiet, String ghichu) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 405
2025/04/10 15:43:24,114 INFO 75 LSPos_Data.Utilities.Log - {"mathamchieu":null,"iddonhang":0,"idct":0,"idnhanvien":0,"hdv":0,"idcuahang":0,"isProcess":0,"tongtien":0.0,"ghichu":"","thoigiantao":"0001-01-01T00:00:00","trangthaigiaohang":0,"trangthaithanhtoan":0,"trangthaidonhang":0,"chitietdonhang":[{"idchitietdonhang":0,"iddonhang":0,"idhanghoa":1323,"soluong":2.0,"soLuongTraLai":0.0,"tongTien":0.0,"ghichu":"","hinhthucban":0,"tenhinhthucban":null,"giakhac":0.0,"giaban":0.0,"mota":null,"linkgioithieu":null,"tenKho":null,"tenhienthi":null,"giabuon":0.0,"giale":0.0,"chietkhauphantram_banle":0.0,"chietkhautien_banle":0.0,"chietkhauphantram_banbuon":0.0,"chietkhautien_banbuon":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvien":0,"idLichSuGiaoHang":0,"idKho":0,"idquanly":0,"ngaysuadoi":"","IsDichVu":0,"chietkhauphantram":0.0,"chietkhautien":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":"","tenhang":"","mahang":"","tendanhmuc":"","iddanhmuc":0,"tendonvi":"","ghichugia":"","dagiao":0.0,"tonthucte":0.0,"tonorder":0.0,"tennhacungcap":null,"tennhanhieu":null,"loaihanghoa":0,"lstDichVu":null,"Ngay":"2025-04-22T00:00:00","dschitietmathang":null,"dshangtang":null,"idhaohut":0,"HangKhuyenMai":0,"idkhoxuat":0,"tenkhoxuat":null,"ID_ChiTietDonHang_DatKhuyenMai":0,"isdichvu":0,"sitecode":null,"servicerateid":null}],"chietkhauphantram":0.0,"chietkhautien":0.0,"chietkhauphantram_theoctkm":0.0,"chietkhautien_theoctkm":0.0,"chietKhauPhanTramKhac":0.0,"chietKhauTienKhac":0.0,"tongtienchietkhau":0.0,"idctkm":0,"tenctkm":null,"idcheckin":0,"macuahang":null,"tenkhachhang":null,"tiendathanhtoan":0.0,"phantramhaohut":0.0,"soluonghaohut":0.0,"idnhanvientao":0,"kinhdo":0.0,"vido":0.0,"diachitao":null,"diachixuathoadon":null,"sodienthoai":null,"diachikhachhang":null,"albumanh":null,"nhanvien":null,"tenvilspay":null,"LS_AccountCode":null,"LS_BookingCode":null,"xuathoadon":false,"invetaiquay":false,"hinhthucthanhtoan":0,"hinhthucban":0,"phuthuphantram":0.0,"phuthutien":0.0,"lydophuthu":null,"vpc_SecureHash":null,"echotoken":null}
2025/04/10 15:43:28,561 INFO 75 LSPos_Data.Utilities.Log - SetGlobal Start
2025/04/10 15:43:28,743 ERROR 75 SqlDataHelper - sp_Global_GetCurrentBySite
2025/04/10 15:43:28,744 ERROR 75 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): Could not find server 'dstabt.ddns.net,11433' in sys.servers. Verify that the correct server name was specified. If necessary, execute the stored procedure sp_addlinkedserver to add the server to sys.servers.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 429
ClientConnectionId:73901963-0b5a-42c4-9f2a-acba720ea230
Error Number:7202,State:2,Class:11
2025/04/10 15:43:28,744 ERROR 75 GlobalDAO - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at GlobalDAO.GetCurrentGlobalBySite(String sitecode, DateTime date) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\GlobalDAO.cs:line 34
2025/04/10 15:43:28,752 INFO 75 LSPos_Data.Utilities.Log - Create new session start
2025/04/10 15:43:31,780 INFO 75 LSPos_API.Utils.Log - http://113.160.203.62:8888/common/get-computer-pos?computerName=DESKTOP-Q39B6UT start
2025/04/10 15:43:31,780 INFO 75 LSPos_API.Utils.Log - ""
2025/04/10 15:43:31,969 INFO 75 LSPos_API.Utils.Log - http://113.160.203.62:8888/common/get-computer-pos?computerName=DESKTOP-Q39B6UT end
2025/04/10 15:43:32,546 INFO 75 LSPos_Data.Utilities.Log - Create new session end
2025/04/10 15:43:32,546 INFO 75 LSPos_Data.Utilities.Log - SetGlobal End
2025/04/10 15:43:32,554 INFO 75 LSPos_API.Utils.Log - ID_ChiTietDonHang: 186198
2025/04/10 15:43:32,595 INFO 75 LSPos_API.Utils.Log - http://113.160.203.62:8888/booking/booking-b2b-export-ticket start
2025/04/10 15:43:32,595 INFO 75 LSPos_API.Utils.Log - {"Value":{"Checkin":"2025-04-22","MemberId":"0A47395B-71F3-41D1-AB3B-2BC30A6DE216","ProfileId":"620a7319-28d7-4fa0-b8ab-19a98e5c7d6e","SiteId":"3af2e350-b775-11ed-afa1-0242ac120002","SiteCode":"PCHL","Lang":null,"Note":"B2B_API","SessionId":"16c1c59c-0638-4687-1552-08dd780bc639","Channel":"B2B","CreatedBy":"b2b_online","PaidAmount":300000.0,"ReturnAmount":0.0,"ComputerId":"93923b30-ca34-4ad0-b44a-d7a1cdd7911a","ZoneId":"0010836d-1611-4ca6-b132-2c496377dab3","BookingCode":null,"OrderCode":"1","IsExportTicket":true,"EmailTo":"","EmailCC":null,"EmailBCC":null,"BookingCustomers":[],"Customers":[],"Details":[{"Title":null,"Amount":0,"Id":"373E8672-3F2C-4214-BB65-2ED43CC88B15","Quantity":2,"Checkin":"2025-04-22","AccountCodes":[],"Discount":0.0,"PromotionID":null,"PromotionLinkID":null,"ShiftID":null,"_ZoneID":null,"ZoneGroupID":null,"listSeatLock":[]}],"PaymentTypes":[{"PaymentID":"b0465aba-7e5b-4726-a434-f2fb4366f9ca","BookingPaymentID":"182b9e70-e047-46a8-a06a-8802fa04c014","Name":"Chuyển khoản","PaymentTypeName":null,"Amount":300000.0,"InputAmount":0.0,"IsNewPayment":true,"Voucher":null,"IsPaymentDeposit":false}],"listSellCard":[],"ShiftID":null}}
2025/04/10 15:43:33,417 INFO 75 LSPos_API.Utils.Log - http://113.160.203.62:8888/booking/booking-b2b-export-ticket end
2025/04/10 15:43:33,432 INFO 75 LSPos_API.Utils.Log - BookingCode: 9812930537
2025/04/10 15:43:33,437 INFO 75 LSPos_Data.Utilities.Log - Booking: {"InvoiceCode":"10042500001","BookingCode":"9812930537","Success":true,"IsPaymentFull":false,"InvoiceCodeRepay":null,"Accounts":[{"AccountCode":"3356665230","ServiceRateID":"373e8672-3f2c-4214-bb65-2ed43cc88b15","InvoiceCode":"10042500001","ExpirationDate":"0001-01-01T00:00:00","DateUsing":"2025-04-22T00:00:00","ExpiredDate":"2025-04-22T23:59:59","Title":null,"Description":null,"I18ns":[{"Lang":"vi","Title":"Du Thuyền Hồ Kỳ Lân trên 1m3","Description":""},{"Lang":"en","Title":"Du Thuyền Hồ Kỳ Lân trên 1m3","Description":""}],"NumberOfUses":1,"IsMasterCode":false,"Sequence":1,"Classify":"ALL","Image":null,"Price":150000.0,"FlexCol1":"","SerialNo":null,"SeatType":null,"SeatCode":null,"SeatNumber":null,"ZoneGroupName":null,"ZoneName":null,"IsHideOnTicket":null,"DescriptionSvRate":""},{"AccountCode":"1144408670","ServiceRateID":"373e8672-3f2c-4214-bb65-2ed43cc88b15","InvoiceCode":"10042500001","ExpirationDate":"0001-01-01T00:00:00","DateUsing":"2025-04-22T00:00:00","ExpiredDate":"2025-04-22T23:59:59","Title":null,"Description":null,"I18ns":[{"Lang":"vi","Title":"Du Thuyền Hồ Kỳ Lân trên 1m3","Description":""},{"Lang":"en","Title":"Du Thuyền Hồ Kỳ Lân trên 1m3","Description":""}],"NumberOfUses":1,"IsMasterCode":false,"Sequence":2,"Classify":"ALL","Image":null,"Price":150000.0,"FlexCol1":"","SerialNo":null,"SeatType":null,"SeatCode":null,"SeatNumber":null,"ZoneGroupName":null,"ZoneName":null,"IsHideOnTicket":null,"DescriptionSvRate":""}]}
2025/04/10 15:44:00,976 ERROR 34 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:47:25,447 ERROR 83 LSPos_Data.Utilities.Log - System.NullReferenceException: Object reference not set to an instance of an object.
   at LSPosMVC.Controllers.DonHangController.getTongSoDu(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\DonHangController.cs:line 5957
2025/04/10 15:47:27,244 ERROR 85 LSPos_Data.Utilities.Log - System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.OrderedEnumerable`2..ctor(IEnumerable`1 source, Func`2 keySelector, IComparer`1 comparer, Boolean descending)
   at System.Linq.Enumerable.OrderBy[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at LSPosMVC.Controllers.XaPhuongController.get(Int32 IdQuan) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\XaPhuongController.cs:line 38
2025/04/10 15:47:27,244 ERROR 69 LSPos_Data.Utilities.Log - System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.OrderedEnumerable`2..ctor(IEnumerable`1 source, Func`2 keySelector, IComparer`1 comparer, Boolean descending)
   at System.Linq.Enumerable.OrderBy[TSource,TKey](IEnumerable`1 source, Func`2 keySelector)
   at LSPosMVC.Controllers.QuanController.get(TieuChiLoc tieuchi) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\QuanController.cs:line 40
