2025/08/21 01:19:05,824 ERROR 39 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 136
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 01:20:31,057 ERROR 7 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 137
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 01:21:28,014 ERROR 7 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 137
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 01:22:38,163 ERROR 7 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 137
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 11:50:31,617 ERROR 40 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 11:56:00,712 INFO 115 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 11:56:01,422 INFO 115 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=CD32069EBBBE8C1CEB626D1F52A49A4E/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=34bafefa4f65497a6568bb52c93980831695841eef34638b60730b9f5d4a3fec
2025/08/21 11:56:02,001 INFO 115 LSPos_Data.Utilities.Log - 20250821T045547Z
2025/08/21 11:56:03,125 INFO 115 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/CD32069EBBBE8C1CEB626D1F52A49A4E/users/TRANGANPC_OTAORDER_304590_20250821T045547Z","body":{"name":"TRANGAN  ORDER  250821-173478","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304590"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/CD32069EBBBE8C1CEB626D1F52A49A4E/users/TRANGANPC_OTAORDER_304590_20250821T045547Z/invoices/dh20250821115547","body":{"amount":"450000","description":"otaorder_304590"}}]
2025/08/21 11:56:08,911 ERROR 115 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:35:07,424 ERROR 34 LSPos_Data.Utilities.Log - System.FormatException: Input string was not in a correct format.
   at System.Number.ParseSingle(String value, NumberStyles options, NumberFormatInfo numfmt)
   at System.Single.Parse(String s)
   at LSPos_Data.Data.DonHangData.BienDongSoDuNhom_TongTienHienTai(Int32 ID_Nhom) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 2310
2025/08/21 15:40:16,578 ERROR 15 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:41:02,665 ERROR 76 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:41:46,377 ERROR 76 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:42:39,977 ERROR 34 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:43:52,360 ERROR 34 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 15:44:47,859 ERROR 76 SqlDataHelper - selectDonHangTheoID
2025/08/21 15:44:47,859 ERROR 76 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The specified network name is no longer available
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:64,State:0,Class:20
2025/08/21 15:44:47,908 ERROR 15 SqlDataHelper - GetUserQLInfo
2025/08/21 15:44:47,908 ERROR 15 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The specified network name is no longer available
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:64,State:0,Class:20
2025/08/21 15:44:47,986 ERROR 76 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at LSPos_Data.Data.DonHangData.LayDonHang(Int32 iddh) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\Data\DonHangData.cs:line 555
2025/08/21 15:44:47,986 ERROR 15 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 15:45:21,870 INFO 76 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 15:45:22,282 INFO 76 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=36a7a4e307fbff63a738efddc5f686ad4b4c69e3df36ec0d9308c2c8d56ec0b5
2025/08/21 15:45:22,767 INFO 76 LSPos_Data.Utilities.Log - 20250821T084455Z
2025/08/21 15:45:23,164 INFO 76 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304650_20250821T084455Z","body":{"name":"TRANGAN  ORDER  ","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304650"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304650_20250821T084455Z/invoices/dh20250821034455","body":{"amount":"450000","description":"otaorder_304650"}}]
2025/08/21 15:45:39,318 ERROR 76 LSPos_Data.Utilities.Log - System.IO.DirectoryNotFoundException: Could not find a part of the path 'D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\FileUpload\user_qr\USR43078C03DA261D3F.jpg'.
   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   at System.IO.File.InternalWriteAllBytes(String path, Byte[] bytes, Boolean checkHost)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 142
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 17:44:48,580 ERROR 107 SqlDataHelper - GetUserQLInfo
2025/08/21 17:44:48,580 ERROR 107 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The specified network name is no longer available
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:64,State:0,Class:20
2025/08/21 17:44:48,624 ERROR 107 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:45:19,349 INFO 131 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 17:45:19,349 INFO 131 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=5be25ef10c568b601c16a4b5b1b5e839e890642d612a52ab3a8bae5ce7be00ae
2025/08/21 17:45:19,349 INFO 131 LSPos_Data.Utilities.Log - 20250821T104458Z
2025/08/21 17:45:19,349 INFO 131 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304652_20250821T104458Z","body":{"name":"TRANGAN  ORDER  250821-173540","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304652"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304652_20250821T104458Z/invoices/dh20250821054458","body":{"amount":"450000","description":"otaorder_304652"}}]
2025/08/21 17:45:19,456 ERROR 131 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 17:46:07,131 INFO 204 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 17:46:07,695 INFO 204 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=2d0e7b0c367d5d4e49b59e4cec97932fbab5e7e96221d95f6548f43979479921
2025/08/21 17:46:08,067 INFO 204 LSPos_Data.Utilities.Log - 20250821T104556Z
2025/08/21 17:46:08,562 INFO 204 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304653_20250821T104556Z","body":{"name":"TRANGAN  ORDER  250821-173541","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304653"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304653_20250821T104556Z/invoices/dh20250821054556","body":{"amount":"450000","description":"otaorder_304653"}}]
2025/08/21 17:46:33,054 ERROR 204 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 17:47:01,400 ERROR 131 SqlDataHelper - GetUserQLInfo
2025/08/21 17:47:01,400 ERROR 131 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The specified network name is no longer available
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:64,State:0,Class:20
2025/08/21 17:47:01,443 ERROR 131 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:47:05,463 ERROR 131 SqlDataHelper - GetUserQLInfo
2025/08/21 17:47:05,464 ERROR 131 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The specified network name is no longer available
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:64,State:0,Class:20
2025/08/21 17:47:05,507 ERROR 131 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:01,628 INFO 131 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 17:48:01,628 INFO 131 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=1f4a185fdf88b456b680d64fca1f1a24c61754bf261ae95ca10f119886b4e355
2025/08/21 17:48:01,628 INFO 131 LSPos_Data.Utilities.Log - 20250821T104716Z
2025/08/21 17:48:01,628 INFO 131 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304654_20250821T104716Z","body":{"name":"TRANGAN  ORDER  250821-173542","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304654"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304654_20250821T104716Z/invoices/dh20250821054716","body":{"amount":"450000","description":"otaorder_304654"}}]
2025/08/21 17:48:01,629 ERROR 131 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 17:48:19,842 ERROR 133 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:19,842 ERROR 133 SqlDataHelper - System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
2025/08/21 17:48:19,842 ERROR 179 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:19,842 ERROR 179 SqlDataHelper - System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
2025/08/21 17:48:19,842 ERROR 133 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:19,842 ERROR 179 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:19,842 ERROR 148 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:19,842 ERROR 148 SqlDataHelper - System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
2025/08/21 17:48:19,842 ERROR 25 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:19,843 ERROR 25 SqlDataHelper - System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
2025/08/21 17:48:19,843 ERROR 148 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:19,843 ERROR 25 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:19,842 ERROR 156 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:19,843 ERROR 156 SqlDataHelper - System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
2025/08/21 17:48:19,843 ERROR 156 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:20,234 ERROR 139 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:20,234 ERROR 139 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The system cannot find the file specified
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, DbConnectionPool pool, String accessToken, Boolean applyTransientFaultHandling, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025/08/21 17:48:20,234 ERROR 131 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:20,234 ERROR 131 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The system cannot find the file specified
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025/08/21 17:48:20,234 ERROR 37 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:20,235 ERROR 37 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The system cannot find the file specified
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025/08/21 17:48:20,234 ERROR 139 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:20,235 ERROR 37 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:20,235 ERROR 131 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:20,234 ERROR 157 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:20,235 ERROR 157 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The system cannot find the file specified
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025/08/21 17:48:20,235 ERROR 157 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 17:48:20,234 ERROR 204 SqlDataHelper - GetUserQLInfo
2025/08/21 17:48:20,235 ERROR 204 SqlDataHelper - System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The system cannot find the file specified
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at SqlDataHelper.ExecuteDataSet(String procName, SqlParameter[] procParams) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\SqlDataHelper.cs:line 413
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025/08/21 17:48:20,235 ERROR 204 LSPos_Data.Utilities.Log - System.IndexOutOfRangeException: Cannot find table 0.
   at System.Data.DataTableCollection.get_Item(Int32 index)
   at User_dl.GetUserInfo(String username, String macongty) in D:\OneDrive\Documents\source\lscloudhub_core\LSPos_Data\DataAccess\User_dl.cs:line 198
   at LSPosMVC.Common.utilsCommon.checkAuthorization() in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\utilsCommon.cs:line 32
2025/08/21 21:10:11,587 ERROR 48 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:11:21,782 ERROR 48 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:13:45,673 INFO 48 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 21:13:48,921 INFO 48 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=4f79dae2e73c389a930010162685b8f6a8c9dcc8d0e7bdb293f0dee93b0887f9
2025/08/21 21:13:49,881 INFO 48 LSPos_Data.Utilities.Log - 20250821T141216Z
2025/08/21 21:13:50,421 INFO 48 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304658_20250821T141216Z","body":{"name":"TRANGAN  ORDER  250821-173546","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304658"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304658_20250821T141216Z/invoices/dh20250821091216","body":{"amount":"221000","description":"otaorder_304658"}}]
2025/08/21 21:13:58,660 ERROR 48 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:15:11,478 ERROR 63 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:15:41,643 ERROR 48 LSPos_Data.Utilities.Log - System.Net.WebException: The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel. ---> System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure.
   at System.Net.Security.SslState.StartSendAuthResetSignal(ProtocolToken message, AsyncProtocolRequest asyncRequest, Exception exception)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer, Int32 count, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.CheckCompletionBeforeNextReceive(ProtocolToken message, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslState.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest, Boolean renegotiation)
   at System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Net.TlsStream.ProcessAuthentication(LazyAsyncResult result)
   at System.Net.TlsStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Write(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.ConnectStream.WriteHeaders(Boolean async)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.GetRequestStream(TransportContext& context)
   at System.Net.HttpWebRequest.GetRequestStream()
   at LSPosMVC.Common.Paycollect.CallHttpRequest.HttpPostRequest(String auth, String url, String isoDate, String content) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\CallHttpRequest.cs:line 110
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 134
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:21:04,362 INFO 64 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 21:21:04,362 INFO 64 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=dfb2958d7fcbe1ece4f93c7b1377288870d673f64de10e0839be651833e262a3
2025/08/21 21:21:04,362 INFO 64 LSPos_Data.Utilities.Log - 20250821T142024Z
2025/08/21 21:21:04,362 INFO 64 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304661_20250821T142024Z","body":{"name":"TRANGAN  ORDER  250821-173549","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304661"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304661_20250821T142024Z/invoices/dh20250821092024","body":{"amount":"221000","description":"otaorder_304661"}}]
2025/08/21 21:21:04,424 ERROR 64 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 21:22:42,533 INFO 48 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 21:22:42,534 INFO 48 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=f39c0b150e3995b2129fc29d8793253228bce1031b35a397cea75fbb78d9f023
2025/08/21 21:22:42,534 INFO 48 LSPos_Data.Utilities.Log - 20250821T142142Z
2025/08/21 21:22:42,534 INFO 48 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304662_20250821T142142Z","body":{"name":"TRANGAN  ORDER  250821-173550","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304662"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304662_20250821T142142Z/invoices/dh20250821092142","body":{"amount":"221000","description":"otaorder_304662"}}]
2025/08/21 21:22:42,534 ERROR 48 LSPos_Data.Utilities.Log - System.Text.Json.JsonException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0. ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& readStack, JsonReaderException ex)
   at System.Text.Json.JsonSerializer.ReadCore(JsonSerializerOptions options, Utf8JsonReader& reader, ReadStack& readStack)
   at System.Text.Json.JsonSerializer.ReadCore(Type returnType, JsonSerializerOptions options, Utf8JsonReader& reader)
   at System.Text.Json.JsonSerializer.Deserialize(String json, Type returnType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at LSPosMVC.Common.Paycollect.PaycollectTest.CallCreateUserInvoice(RequestUserOP user, RequestInvoiceOP inv) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Common\Paycollect\PaycollectTest.cs:line 139
   at LSPosMVC.Controllers.OtaController.PayCollect_CreatePayment_TrangAn(Int32 ID_DonHang, Decimal SoTien) in D:\OneDrive\Documents\source\lscloudhub_core\LSPosMVC\Controllers\OtaController.cs:line 565
2025/08/21 23:01:17,053 INFO 60 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 23:01:17,412 INFO 60 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=1a88a9aed52534dc7e7fc148a0ff13d8cc597c728d5da5d0d38f341514228bc1
2025/08/21 23:01:17,628 INFO 60 LSPos_Data.Utilities.Log - 20250821T160101Z
2025/08/21 23:01:18,041 INFO 60 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304673_20250821T160101Z","body":{"name":"TRANGAN  ORDER  250821173560","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304673"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304673_20250821T160101Z/invoices/dh20250821110101","body":{"amount":"221000","description":"otaorder_304673"}}]
2025/08/21 23:03:32,675 INFO 10 LSPos_Data.Utilities.Log - https://onepay.vn/paycollect/api/v1/batchs
2025/08/21 23:03:32,703 INFO 10 LSPos_Data.Utilities.Log - OWS1-HMAC-SHA256 Credential=TRANGANPC/20250821/onepay/paycollect/ows1_request,SignedHeaders=x-op-date;x-op-expires,Signature=c5e0ec102394a4c84e2a75357f197f0d21cd8450fa3745b60bd35ec0e5398c83
2025/08/21 23:03:32,703 INFO 10 LSPos_Data.Utilities.Log - 20250821T160332Z
2025/08/21 23:03:32,703 INFO 10 LSPos_Data.Utilities.Log - [{"name":"user","do_on":"always","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304674_20250821T160332Z","body":{"name":"TRANGAN  ORDER  250821173561","gender":"male","address":"","mobile_number":"","email":"","id_card":"","issue_date":"","issue_by":"","bank_id":"","description":"","reference":"TRANGANPC_OTAORDER_304674"}},{"name":"invoice","do_on":"$user.response.status == 201","method":"PUT","href":"/partners/TRANGANPC/users/TRANGANPC_OTAORDER_304674_20250821T160332Z/invoices/dh20250821110332","body":{"amount":"221000","description":"otaorder_304674"}}]
